<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YeuCau6</title>
    <script src="customer.js"></script>
</head>
<body>
<script>
    function displayMainMenu() {
        let selectNumb = parseInt(prompt("Lua chon:" + "\n" +
            "1.Add New Customer" + "\n" +
            "2.Display Information Customer." + "\n" +
            "3.Display Total Price." + "\n" +
            "4.Edit Information Customer." + "\n" +
            "5.Delete Customer." + "\n" +
            "6.Add new Employee \n" +
            "7.Display information Employee \n" +
            "8.Salary of Employee \n" +
            "9.Exit."
        ))
        switch (selectNumb) {
            case 1: {
                addNewCus();
                break;
            }
            case 2: {
                displayInfoCus();
                break;
            }
            case 3: {
                displayTotalPrice();
                break;
            }
            case 4: {
                editCustomer();
                break;
            }
            case 5: {
                delCustom();
                break;
            }
            case 6: {
                addNewEmployee();
                break;
            }
            case 7: {
                displayInfoEmployee();
                break;
            }
            case 8: {
                salaryEmployee();
                break;
            }
            case 9: {
                // alert("9.Exit.")
                break;
            }
            default: {
                alert('Failed')
            }

        }
    }

    let arrListCustomers = [];

    function addNewCus() {
        let customer = new Customer();
        let name = prompt("Nhap Ten: ");
        let idCard = prompt("Nhap CMND: ");
        customer.setCmnd(idCard);
        let birthday = prompt("birthday:");
        customer.setBirthday(birthday);
        let email = prompt("Nhap Email:");
        customer.setEmail(email);
        let address = prompt("address: ");
        let serviceType = prompt("serviceType: ");
        let rentDays = prompt("rentDays: ");
        customer.setRentDays(rentDays);
        let discount = prompt("discount: ");
        customer.setDiscount(discount);
        let customerType = prompt("customerType: ");
        let roomType = prompt("roomType: ");
        let followedPeople = prompt("Nguoi di theo:: ");
        customer.setFollowedPeople(followedPeople);
        customer.setName(name);
        customer.setAddress(address);
        customer.setServiceType(serviceType);
        customer.setCustomerType(customerType);
        customer.setRoomType(roomType);
        arrListCustomers.push(customer);
        alert("Ban Da Nhap Xong")
        displayMainMenu()
    }

    function displayInfoCus() {
        let temp = "";
        for (let i = 0; i < arrListCustomers.length; i++) {
            temp += i + ". Name:" + arrListCustomers[i].getName() + "\n"
        }
        let selectDisplay = parseInt(prompt(temp))
        alert("Name: " + arrListCustomers[selectDisplay].getName() + "\n" +
            "CMND: " + arrListCustomers[selectDisplay].getCmnd() + "\n" +
            "birthday: " + arrListCustomers[selectDisplay].getBirthday() + "\n" +
            "email: " + arrListCustomers[selectDisplay].getEmail() + "\n" +
            "address: " + arrListCustomers[selectDisplay].getAddress() + "\n" +
            "serviceType: " + arrListCustomers[selectDisplay].getServiceType() + "\n" +
            "rentDays: " + arrListCustomers[selectDisplay].getRentDays() + "\n" +
            "discount: " + arrListCustomers[selectDisplay].getDiscount() + "\n" +
            "customerType: " + arrListCustomers[selectDisplay].getCustomerType() + "\n" +
            "roomType: " + arrListCustomers[selectDisplay].getRoomType() + "\n" +
            "Followed people: " + arrListCustomers[selectDisplay].getFollowedPeople() + "\n");
        displayMainMenu();
    }

    function displayTotalPrice() {
        let temp = "";
        for (let i = 0; i < arrListCustomers.length; i++) {
            temp += i + ". Name:" + arrListCustomers[i].getName() + "\n"
        }
        let selectDisplay = parseInt(prompt(temp));
        alert(("Total Price: " + arrListCustomers[selectDisplay].totalPrice()));

        displayMainMenu()

    }

    function editCustomer() {
        let temp = "";
        for (let i = 0; i < arrListCustomers.length; i++) {
            temp += i + ". Name:" + arrListCustomers[i].getName() + "\n"
        }
        let selectDisplay = parseInt(prompt(temp))
        let selectEdit = parseInt(prompt("1.Name: " + arrListCustomers[selectDisplay].getName() + "\n" +
            "2.CMND: " + arrListCustomers[selectDisplay].getCmnd() + "\n" +
            "3.birthday: " + arrListCustomers[selectDisplay].getBirthday() + "\n" +
            "4.email: " + arrListCustomers[selectDisplay].getEmail() + "\n" +
            "5.address: " + arrListCustomers[selectDisplay].getAddress() + "\n" +
            "6.serviceType: " + arrListCustomers[selectDisplay].getServiceType() + "\n" +
            "7.rentDays: " + arrListCustomers[selectDisplay].getRentDays() + "\n" +
            "8.discount: " + arrListCustomers[selectDisplay].getDiscount() + "\n" +
            "9.customerType: " + arrListCustomers[selectDisplay].getCustomerType() + "\n" +
            "10.roomType: " + arrListCustomers[selectDisplay].getRoomType() + "\n" +
            "11.Followed people: " + arrListCustomers[selectDisplay].getFollowedPeople() + "\n"));
        switch (selectEdit) {
            case 1 : {
                arrListCustomers[selectDisplay].setName(prompt("1.Name: "))
                break;
            }
            case 2 : {
                arrListCustomers[selectDisplay].setCmnd(prompt("2.CMND: "));
                break;
            }
            case 3 : {
                arrListCustomers[selectDisplay].setBirthday(prompt("3.birthday: "));
                break;
            }
            case 4 : {
                arrListCustomers[selectDisplay].setEmail(prompt("4.email: "));
                break;
            }
            case 5 : {
                arrListCustomers[selectDisplay].setAddress(prompt("5.address: "));
                break;
            }
            case 6 : {
                arrListCustomers[selectDisplay].setServiceType(prompt("6.serviceType: "));
                break;
            }
            case 7 : {
                arrListCustomers[selectDisplay].setRentDays(prompt("7.rentDays: "));
                break;
            }
            case 8 : {
                arrListCustomers[selectDisplay].setDiscount(prompt("8.discount: "));
                break;
            }
            case 9 : {
                arrListCustomers[selectDisplay].setCustomerType(prompt("9.customerType: "));
                break;
            }
            case 10 : {
                arrListCustomers[selectDisplay].setRoomType(prompt("10.roomType: "));
                break;
            }
            case 11 : {
                arrListCustomers[selectDisplay].setFollowedPeople(prompt("11.Followed people: "));
                break;
            }
            default: {
                alert("Failed")
            }
        }
        displayMainMenu();
    }

    function delCustom() {
        let temp = "";
        for (let i = 0; i < arrListCustomers.length; i++) {
            temp += i + ". Name:" + arrListCustomers[i].getName() + "\n"
        }
        let selectDisplay = parseInt(prompt("Nhap Ten Customer muon xoa: " + temp))

        for (let i = 0; i < arrListCustomers.length; i++) {
            if (i === selectDisplay) {
                arrListCustomers.splice(i, 1)
            }
        }
        displayMainMenu();
    }

    let arrListEmployees = []

    class Employ extends Customer {
        constructor(name, cmnd, birthday, email, address, position) {
            super(name, cmnd, birthday, email, address);
            this.position = position;
        }

        getPosition() {
            return this.position
        }

        setPosition(position) {
            this.position = position;
        }

        setSalary() {
            let salary = 0;
            if (this.position === "Manager") {
                salary = 1000 + 500
            } else if (this.position === "Sale") {
                salary = 300 + 1000
            } else {
                salary = 100 + 1000
            }
            this.salary = salary;
            return this.salary
        }
    }

    function addNewEmployee() {
        let Employee = new Employ();
        let name = prompt("Nhap Ten: ");
        Employee.setName(name);
        let idCard = prompt("Nhap CMND: ");
        Employee.setCmnd(idCard);
        let birthday = prompt("birthday:");
        Employee.setBirthday(birthday);
        let email = prompt("Nhap Email:");
        Employee.setEmail(email);
        let address = prompt("address: ");
        Employee.setAddress(address);
        let position = prompt("Vi tri: ");
        Employee.setPosition(position);
        arrListEmployees.push(Employee);
        alert("Ban Da Nhap Xong")
        displayMainMenu()
    }

    function displayInfoEmployee() {
        let temp = "";
        for (let i = 0; i < arrListEmployees.length; i++) {
            temp += i + ". Name:" + arrListEmployees[i].getName() + "\n"
        }
        let selectDisplay = parseInt(prompt(temp))
        alert("Name: " + arrListEmployees[selectDisplay].getName() + "\n" +
            "CMND: " + arrListEmployees[selectDisplay].getCmnd() + "\n" +
            "birthday: " + arrListEmployees[selectDisplay].getBirthday() + "\n" +
            "email: " + arrListEmployees[selectDisplay].getEmail() + "\n" +
            "address: " + arrListEmployees[selectDisplay].getAddress() + "\n" +
            "Vi tri: " + arrListEmployees[selectDisplay].getPosition() + "\n")
        displayMainMenu();
    }

    function salaryEmployee() {
        let temp = "";
        for (let i = 0; i < arrListEmployees.length; i++) {
            temp += i + ". Name:" + arrListEmployees[i].getName() + "\n"
        }
        let selectDisplay = parseInt(prompt(temp));
        alert(("Luong Thang: " + arrListEmployees[selectDisplay].setSalary()));

        displayMainMenu()
    }

    displayMainMenu()
</script>
</body>
</html>